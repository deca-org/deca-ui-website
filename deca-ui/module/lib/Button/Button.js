import { ThemeContext } from '../Theme';
import { __DEV__, } from '../Utils';
import clsx from 'clsx';
import React, { useMemo } from 'react';
import StyledButton from './Button.styles';
import ButtonIcon from './ButtonIcon';
export const Button = React.forwardRef(({ role = 'button', as, css, icon, iconRight, iconLeftCss, iconRightCss, onClick, color = 'primary', disabled = false, variant = 'solid', size = 'md', maxWidth = false, className = '', children, pill = false, ...btnProps }, ref) => {
    const hasText = useMemo(() => React.Children.count(children) !== 0, [children]);
    // ensures only icon or only iconRight is present
    const singleIcon = useMemo(() => (!hasText && !iconRight && icon) || (!hasText && !icon && iconRight)
        ? true
        : false, [children, iconRight, icon]);
    if (disabled) {
        onClick = undefined;
    }
    const preClass = 'decaButton';
    const { dark } = React.useContext(ThemeContext);
    return (React.createElement(StyledButton, { role: role, as: as, css: css, onClick: onClick, color: color, disabled: disabled, isDisabled: disabled, variant: variant, size: size, maxWidth: maxWidth, className: clsx(className, `${preClass}-root`), ref: ref, singleIcon: singleIcon, pill: pill, isDark: dark, ...btnProps },
        (icon && hasText) || (icon && iconRight) ? (React.createElement(ButtonIcon, { size: size, isSingle: false, side: "left", css: iconLeftCss, className: `${preClass}-leftIcon` }, icon)) : (icon && (React.createElement(ButtonIcon, { size: size, isSingle: true, side: "left", css: iconLeftCss, className: `${preClass}-leftIcon` }, icon))),
        hasText && children,
        (iconRight && hasText) || (icon && iconRight) ? (React.createElement(ButtonIcon, { size: size, isSingle: false, side: "right", css: iconRightCss, className: `${preClass}-rightIcon` }, iconRight)) : (iconRight && (React.createElement(ButtonIcon, { size: size, isSingle: true, side: "right", css: iconRightCss, className: `${preClass}-rightIcon` }, iconRight)))));
});
if (__DEV__) {
    Button.displayName = 'DecaUI.Button';
}
export default Button;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnV0dG9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2xpYi9CdXR0b24vQnV0dG9uLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBRTFDLE9BQU8sRUFDTCxPQUFPLEdBR1IsTUFBTSxZQUFZLENBQUM7QUFDcEIsT0FBTyxJQUFJLE1BQU0sTUFBTSxDQUFDO0FBQ3hCLE9BQU8sS0FBSyxFQUFFLEVBQUUsT0FBTyxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBRXZDLE9BQU8sWUFBWSxNQUFNLGlCQUFpQixDQUFDO0FBQzNDLE9BQU8sVUFBVSxNQUFNLGNBQWMsQ0FBQztBQWlGdEMsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFvQixLQUFLLENBQUMsVUFBVSxDQUNyRCxDQUNFLEVBQ0UsSUFBSSxHQUFHLFFBQVEsRUFDZixFQUFFLEVBQ0YsR0FBRyxFQUNILElBQUksRUFDSixTQUFTLEVBQ1QsV0FBVyxFQUNYLFlBQVksRUFDWixPQUFPLEVBQ1AsS0FBSyxHQUFHLFNBQVMsRUFDakIsUUFBUSxHQUFHLEtBQUssRUFDaEIsT0FBTyxHQUFHLE9BQU8sRUFDakIsSUFBSSxHQUFHLElBQUksRUFDWCxRQUFRLEdBQUcsS0FBSyxFQUNoQixTQUFTLEdBQUcsRUFBRSxFQUNkLFFBQVEsRUFDUixJQUFJLEdBQUcsS0FBSyxFQUNaLEdBQUcsUUFBUSxFQUNJLEVBQ2pCLEdBQXVCLEVBQ3ZCLEVBQUU7SUFDRixNQUFNLE9BQU8sR0FBRyxPQUFPLENBQ3JCLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFDMUMsQ0FBQyxRQUFRLENBQUMsQ0FDWCxDQUFDO0lBRUYsaURBQWlEO0lBQ2pELE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FDeEIsR0FBRyxFQUFFLENBQ0gsQ0FBQyxDQUFDLE9BQU8sSUFB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